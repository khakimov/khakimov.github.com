
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>curious and driven</title>
	<meta name="author" content="khakimov">

	
	<meta name="description" content="Today is Sunday and as usually I spent this day reading and hacking. K&amp;R for sure is a best book ever if you want to understand C and the most &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="curious and driven" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>

<body>
	<header id="header" class="inner"><h1><a href="/">curious and driven</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:khakimov.github.com">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:khakimov.github.com">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner">


    <article class="post">
	<h1 class="title"><a href="/blog/2012/08/12/rebrand-blog-and-some-new-feature/">Rebrand Blog and Some New Feature</a></h1>
	<div class="entry-content">
		<p>Today is Sunday and as usually I spent this day reading and hacking. K&amp;R for sure is a best book ever if you want to understand C and the most important part is exercises. Very interesting and useful. But today I will not talk about programming, I want to introduce new version of this blog with new design and one feature which, I hope, will provide more interactive.</p>

<p>I&#8217;m not crazy and understand nobody read this and this lines I wrote only for myself, but anyway it sounds interesting, why not to try?</p>

<p>I added function to be able to comment any part of post, even just one word. I think this is going to be very useful to comment some code. Double click on any text and will see [comment] button, like this:</p>

<p><img src="http://pix.am/yM4z.png" alt="Example screenshot with comment button" /></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;eventmachine&#39;</span>
</span><span class='line'>
</span><span class='line'> <span class="k">module</span> <span class="nn">EchoServer</span>
</span><span class='line'>   <span class="k">def</span> <span class="nf">post_init</span>
</span><span class='line'>     <span class="nb">puts</span> <span class="s2">&quot;-- someone connected to the echo server!&quot;</span>
</span><span class='line'>   <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>   <span class="k">def</span> <span class="nf">receive_data</span> <span class="n">data</span>
</span><span class='line'>     <span class="n">send_data</span> <span class="s2">&quot;&gt;&gt;&gt;you sent: </span><span class="si">#{</span><span class="n">data</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span class='line'>     <span class="n">close_connection</span> <span class="k">if</span> <span class="n">data</span> <span class="o">=~</span> <span class="sr">/quit/i</span>
</span><span class='line'>   <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>   <span class="k">def</span> <span class="nf">unbind</span>
</span><span class='line'>     <span class="nb">puts</span> <span class="s2">&quot;-- someone disconnected from the echo server!&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># Note that this will block current thread.</span>
</span><span class='line'><span class="no">EventMachine</span><span class="o">.</span><span class="n">run</span> <span class="p">{</span>
</span><span class='line'>  <span class="no">EventMachine</span><span class="o">.</span><span class="n">start_server</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span> <span class="mi">8081</span><span class="p">,</span> <span class="no">EchoServer</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>I&#8217;m also want to share interesting posts I reading during the day with my thoughts and comments. Mostly from <a href="http://news.ycombinator.com/">HN</a> and <a href="http://quora.com">Quora</a>. Will see how it will work, some examples what I&#8217;m reading on <strong>quora</strong>:</p>

<ol>
<li><p><a href="http://www.quora.com/Sleep/What-is-the-ideal-time-to-go-to-bed">What is the ideal time to go to bed?</a>.</p></li>
<li><p><a href="http://www.quora.com/What-important-things-do-people-learn-in-university-that-would-be-hard-to-learn-on-their-own">What important things do people learn in university that would be hard to learn on their own?</a>.</p></li>
<li><p><a href="http://www.quora.com/How-much-money-does-a-successful-high-end-restaurant-make">How much money does a successful, high-end restaurant make?</a>.</p></li>
</ol>


<p>Any ideas/thought/sugestions?</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-08-12T19:09:00-07:00" pubdate data-updated="true">Aug 12<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/blog/'>blog</a>


</div>
	
</div></article>


    <article class="post">
	<h1 class="title"><a href="/blog/2012/08/12/twitter-mass-unfollow-with-ruby/">Twitter Mass Unfollow With Ruby</a></h1>
	<div class="entry-content">
		<p>On Saturday morning decided to mass unfollow all of user from my list, because folowed ~800 and even with list it&#8217;s a lot. So, ruby and couple lines of code solved this problem.</p>

<script src="https://gist.github.com/3307549.js?file=gistfile1.rb"></script>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-08-12T17:26:00-07:00" pubdate data-updated="true">Aug 12<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/ruby/'>ruby</a>, <a class='category' href='/blog/categories/twitter/'>twitter</a>


</div>
	
</div></article>


    <article class="post">
	<h1 class="title"><a href="/blog/2012/08/07/immigration-will-solve-the-talent-war-in-the-valley/">Immigration Will Solve the Talent War in the Valley</a></h1>
	<div class="entry-content">
		<ol>
<li><p><a href="http://rvivek.com/immigration/">Immigration</a> Immigration will solve the talent war in the valley.</p></li>
<li><p><a href="http://blog.filepicker.io/post/28881520162/what-hackers-dont-know-about-business">What hackers do not know about business</a> Very interesting if you don&#8217;t understand the differences between Marketing, Distribution, Sales, or Business Development or special terms like LTV, COCA.</p></li>
<li><p><a href="http://racket-lang.org/">Racket programming language</a> Never heard about this programming language has a dialect of Lisp and a descendant of Scheme.</p></li>
<li><p><a href="http://raganwald.posterous.com/what-ive-learned-about-learning">What I have Learned About Learning</a> My weakness is thinking that when I first grasp an idea, I think I&#8217;m done. I&#8217;ve gotten better over time. I have learned to exercise ideas, to write and use little libraries, even to write essays like this to help me think the little implications through.</p></li>
<li><p><a href="http://news.ycombinator.com/item?id=4350827">Job market for a 30+ person learning to code?</a> Too old to fail? 37-year old person going to learn to code and asking about being to old to be employable.</p></li>
</ol>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-08-07T11:38:00-07:00" pubdate data-updated="true">Aug 7<span>th</span>, 2012</time></div>
	<div class="tags">

</div>
	
</div></article>


    <article class="post">
	<h1 class="title"><a href="/blog/2012/08/06/curiosity-landed-on-Mars/">Curiosity Landed on Mars</a></h1>
	<div class="entry-content">
		<h2>Curiosity&#8217;s Descent</h2>

<iframe width="560" height="315" src="http://www.youtube.com/embed/UcGMDXy-Y1I?rel=0" frameborder="0" allowfullscreen></iframe>


<p><strong>“Touchdown confirmed,” Allen Chen, an engineer in the control room here, said at 10:32 p.m. Sunday. <strong>“We’re safe on Mars.”</strong> The room erupted with cheers, hugs, handshakes and high-fives.</strong></p>

<p>What interesting for me is only one other country, the Soviet Union, has successfully landed anything on Mars, and that spacecraft, Mars 3 in 1971, fell silent shortly after landing. So far, this rover appears to be healthy.</p>

<ol>
<li><p><a href="http://www.ft.com/cms/s/2/93a47a62-daf0-11e1-8074-00144feab49a.html#axzz22p2ab3qx">A man walks into a bank</a>. Guy deposits a junk-mail cheque for $95,000 – for a joke. The bank cashes it.</p></li>
<li><p><a href="http://viniciusvacanti.com/2012/08/06/advice-i-wish-i-could-have-given-myself-5-years-ago/">Advice I Wish I Could Have Given Myself 5 Years Ago</a>. Guy (co-founder Yipit well funded startup with 25 employes) fantasize about going back in time and giving himself advice based on what he’s learned over the last 5 years.</p></li>
<li><p><a href="http://www.wired.com/gadgetlab/2012/08/apple-amazon-mat-honan-hacking/">How Apple and Amazon Security Flaws Led to My Epic Hacking</a>. In the space of one hour, my entire digital life was destroyed&#8230; Not bad for begining</p></li>
</ol>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-08-06T18:47:00-07:00" pubdate data-updated="true">Aug 6<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/news/'>news</a>


</div>
	
</div></article>


    <article class="post">
	<h1 class="title"><a href="/blog/2012/08/04/transform-to-linkblog/">Transform to LinkBlog</a></h1>
	<div class="entry-content">
		<p>I had an idea about links blog where I can post and describe some interesting for me news, blog posts and stuff around internet.</p>

<p>Example:</p>

<ol>
<li><a href="http://lars-lab.jpl.nasa.gov/JPL_Coding_Standard_C.pdf">NASA JPL C Coding Standard [pdf]</a> Cool doc about coding standart at NASA. It&#8217;s actually a collection of best available insights in a
form that can help us improve the safety and reliability of your code.</li>
</ol>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-08-04T18:55:00-07:00" pubdate data-updated="true">Aug 4<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/blogging/'>blogging</a>, <a class='category' href='/blog/categories/links/'>links</a>


</div>
	
</div></article>


    <article class="post">
	<h1 class="title"><a href="/blog/2012/08/01/c-tricks/">C Tricks</a></h1>
	<div class="entry-content">
		<p>This C code shows me a big sign <strong>&#8220;You don&#8217;t know C!&#8221;</strong> =) Trying to figure out how it works. Any idea?</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="cp">#include &lt;stdio.h&gt;</span>
</span><span class='line'><span class="cp">#include &lt;stdlib.h&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">f</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">static</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="k">const</span> <span class="n">ft</span><span class="p">[</span><span class="mi">2</span><span class="p">])(</span><span class="kt">int</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span> <span class="n">f</span><span class="p">,</span> <span class="n">exit</span> <span class="p">};</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">j</span><span class="p">);</span>
</span><span class='line'>    <span class="n">ft</span><span class="p">[</span><span class="n">j</span><span class="o">/</span><span class="mi">1000</span><span class="p">](</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>or this one</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="cp">#include &lt;stdio.h&gt;</span>
</span><span class='line'><span class="cp">#include &lt;stdlib.h&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">j</span><span class="p">);</span>
</span><span class='line'>  <span class="p">(</span><span class="o">&amp;</span><span class="n">main</span> <span class="o">+</span> <span class="p">(</span><span class="o">&amp;</span><span class="n">exit</span> <span class="o">-</span> <span class="o">&amp;</span><span class="n">main</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">j</span><span class="o">/</span><span class="mi">1000</span><span class="p">))(</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>&#8230;will update this post with ideas ;)</p>

<p>Ok, if you are mac use then you have to use <strong>otool</strong> to view the generated assembly code. <strong>otool -tV ./test</strong></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="p">(</span><span class="n">__TEXT</span><span class="p">,</span><span class="n">__text</span><span class="p">)</span> <span class="n">section</span>
</span><span class='line'><span class="nl">start:</span>
</span><span class='line'><span class="mf">0000000100000e40</span>        <span class="n">pushq</span>   <span class="err">$</span><span class="mh">0x00</span>
</span><span class='line'><span class="mf">0000000100000e42</span>        <span class="n">movq</span>    <span class="o">%</span><span class="n">rsp</span><span class="p">,</span><span class="o">%</span><span class="n">rbp</span>
</span><span class='line'><span class="mf">0000000100000e45</span>        <span class="n">andq</span>    <span class="err">$</span><span class="mh">0xf0</span><span class="p">,</span><span class="o">%</span><span class="n">rsp</span>
</span><span class='line'><span class="mf">0000000100000e49</span>        <span class="n">movq</span>    <span class="mh">0x08</span><span class="p">(</span><span class="o">%</span><span class="n">rbp</span><span class="p">),</span><span class="o">%</span><span class="n">rdi</span>
</span><span class='line'><span class="mf">0000000100000e4</span><span class="n">d</span>        <span class="n">leaq</span>    <span class="mh">0x10</span><span class="p">(</span><span class="o">%</span><span class="n">rbp</span><span class="p">),</span><span class="o">%</span><span class="n">rsi</span>
</span><span class='line'><span class="mf">0000000100000e51</span>        <span class="n">movl</span>    <span class="o">%</span><span class="n">edi</span><span class="p">,</span><span class="o">%</span><span class="n">edx</span>
</span><span class='line'><span class="mf">0000000100000e53</span>        <span class="n">addl</span>    <span class="err">$</span><span class="mh">0x01</span><span class="p">,</span><span class="o">%</span><span class="n">edx</span>
</span><span class='line'><span class="mf">0000000100000e56</span>        <span class="n">shll</span>    <span class="err">$</span><span class="mh">0x03</span><span class="p">,</span><span class="o">%</span><span class="n">edx</span>
</span><span class='line'><span class="mf">0000000100000e59</span>        <span class="n">addq</span>    <span class="o">%</span><span class="n">rsi</span><span class="p">,</span><span class="o">%</span><span class="n">rdx</span>
</span><span class='line'><span class="mf">0000000100000e5</span><span class="n">c</span>        <span class="n">movq</span>    <span class="o">%</span><span class="n">rdx</span><span class="p">,</span><span class="o">%</span><span class="n">rcx</span>
</span><span class='line'><span class="mf">0000000100000e5</span><span class="n">f</span>        <span class="n">jmp</span>     <span class="mh">0x100000e65</span>
</span><span class='line'><span class="mf">0000000100000e61</span>        <span class="n">addq</span>    <span class="err">$</span><span class="mh">0x08</span><span class="p">,</span><span class="o">%</span><span class="n">rcx</span>
</span><span class='line'><span class="mf">0000000100000e65</span>        <span class="n">cmpq</span>    <span class="err">$</span><span class="mh">0x00</span><span class="p">,(</span><span class="o">%</span><span class="n">rcx</span><span class="p">)</span>
</span><span class='line'><span class="mf">0000000100000e69</span>        <span class="n">jne</span>     <span class="mh">0x100000e61</span>
</span><span class='line'><span class="mf">0000000100000e6</span><span class="n">b</span>        <span class="n">addq</span>    <span class="err">$</span><span class="mh">0x08</span><span class="p">,</span><span class="o">%</span><span class="n">rcx</span>
</span><span class='line'><span class="mf">0000000100000e6</span><span class="n">f</span>        <span class="n">callq</span>   <span class="n">_main</span>
</span><span class='line'><span class="mf">0000000100000e74</span>        <span class="n">movl</span>    <span class="o">%</span><span class="n">eax</span><span class="p">,</span><span class="o">%</span><span class="n">edi</span>
</span><span class='line'><span class="mf">0000000100000e76</span>        <span class="n">callq</span>   <span class="mh">0x100000f04</span>     <span class="p">;</span> <span class="n">symbol</span> <span class="n">stub</span> <span class="k">for</span><span class="o">:</span> <span class="n">_exit</span>
</span><span class='line'><span class="mf">0000000100000e7</span><span class="n">b</span>        <span class="n">hlt</span>
</span><span class='line'><span class="mf">0000000100000e7</span><span class="n">c</span>        <span class="n">nop</span>
</span><span class='line'><span class="mf">0000000100000e7</span><span class="n">d</span>        <span class="n">nop</span>
</span><span class='line'><span class="mf">0000000100000e7</span><span class="n">e</span>        <span class="n">nop</span>
</span><span class='line'><span class="mf">0000000100000e7</span><span class="n">f</span>        <span class="n">nop</span>
</span><span class='line'><span class="nl">_f:</span>
</span><span class='line'><span class="mf">0000000100000e80</span>        <span class="n">pushq</span>   <span class="o">%</span><span class="n">rbp</span>
</span><span class='line'><span class="mf">0000000100000e81</span>        <span class="n">movq</span>    <span class="o">%</span><span class="n">rsp</span><span class="p">,</span><span class="o">%</span><span class="n">rbp</span>
</span><span class='line'><span class="mf">0000000100000e84</span>        <span class="n">subq</span>    <span class="err">$</span><span class="mh">0x10</span><span class="p">,</span><span class="o">%</span><span class="n">rsp</span>
</span><span class='line'><span class="mf">0000000100000e88</span>        <span class="n">movl</span>    <span class="o">%</span><span class="n">edi</span><span class="p">,</span><span class="o">%</span><span class="n">eax</span>
</span><span class='line'><span class="mf">0000000100000e8</span><span class="n">a</span>        <span class="n">movl</span>    <span class="o">%</span><span class="n">eax</span><span class="p">,</span><span class="mh">0xfc</span><span class="p">(</span><span class="o">%</span><span class="n">rbp</span><span class="p">)</span>
</span><span class='line'><span class="mf">0000000100000e8</span><span class="n">d</span>        <span class="n">movl</span>    <span class="mh">0xfc</span><span class="p">(</span><span class="o">%</span><span class="n">rbp</span><span class="p">),</span><span class="o">%</span><span class="n">eax</span>
</span><span class='line'><span class="mf">0000000100000e90</span>        <span class="n">xorb</span>    <span class="o">%</span><span class="n">cl</span><span class="p">,</span><span class="o">%</span><span class="n">cl</span>
</span><span class='line'><span class="mf">0000000100000e92</span>        <span class="n">leaq</span>    <span class="mh">0x0000009b</span><span class="p">(</span><span class="o">%</span><span class="n">rip</span><span class="p">),</span><span class="o">%</span><span class="n">rdx</span>
</span><span class='line'><span class="mf">0000000100000e99</span>        <span class="n">movq</span>    <span class="o">%</span><span class="n">rdx</span><span class="p">,</span><span class="o">%</span><span class="n">rdi</span>
</span><span class='line'><span class="mf">0000000100000e9</span><span class="n">c</span>        <span class="n">movl</span>    <span class="o">%</span><span class="n">eax</span><span class="p">,</span><span class="o">%</span><span class="n">esi</span>
</span><span class='line'><span class="mf">0000000100000e9</span><span class="n">e</span>        <span class="n">movb</span>    <span class="o">%</span><span class="n">cl</span><span class="p">,</span><span class="o">%</span><span class="n">al</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ea0</span>        <span class="n">callq</span>   <span class="mh">0x100000f0a</span>     <span class="p">;</span> <span class="n">symbol</span> <span class="n">stub</span> <span class="k">for</span><span class="o">:</span> <span class="n">_printf</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ea5</span>        <span class="n">movl</span>    <span class="mh">0xfc</span><span class="p">(</span><span class="o">%</span><span class="n">rbp</span><span class="p">),</span><span class="o">%</span><span class="n">ecx</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ea8</span>        <span class="n">movl</span>    <span class="err">$</span><span class="mh">0x10624dd3</span><span class="p">,</span><span class="o">%</span><span class="n">esi</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ead</span>        <span class="n">movl</span>    <span class="o">%</span><span class="n">ecx</span><span class="p">,</span><span class="o">%</span><span class="n">eax</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">eaf</span>        <span class="n">imull</span>   <span class="o">%</span><span class="n">esi</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">eb1</span>        <span class="n">movl</span>    <span class="o">%</span><span class="n">edx</span><span class="p">,</span><span class="o">%</span><span class="n">eax</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">eb3</span>        <span class="n">movl</span>    <span class="o">%</span><span class="n">eax</span><span class="p">,</span><span class="o">%</span><span class="n">ecx</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">eb5</span>        <span class="n">shrl</span>    <span class="err">$</span><span class="mh">0x1f</span><span class="p">,</span><span class="o">%</span><span class="n">ecx</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">eb8</span>        <span class="n">sarl</span>    <span class="err">$</span><span class="mh">0x06</span><span class="p">,</span><span class="o">%</span><span class="n">eax</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ebb</span>        <span class="n">leal</span>    <span class="p">(</span><span class="o">%</span><span class="n">rax</span><span class="p">,</span><span class="o">%</span><span class="n">rcx</span><span class="p">),</span><span class="o">%</span><span class="n">eax</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ebe</span>        <span class="n">movslq</span>  <span class="o">%</span><span class="n">eax</span><span class="p">,</span><span class="o">%</span><span class="n">rax</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ec1</span>        <span class="n">leaq</span>    <span class="mh">0x00000180</span><span class="p">(</span><span class="o">%</span><span class="n">rip</span><span class="p">),</span><span class="o">%</span><span class="n">rcx</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ec8</span>        <span class="n">movq</span>    <span class="p">(</span><span class="o">%</span><span class="n">rcx</span><span class="p">,</span><span class="o">%</span><span class="n">rax</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span><span class="o">%</span><span class="n">rax</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ecc</span>        <span class="n">movl</span>    <span class="mh">0xfc</span><span class="p">(</span><span class="o">%</span><span class="n">rbp</span><span class="p">),</span><span class="o">%</span><span class="n">ecx</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ecf</span>        <span class="n">leal</span>    <span class="mh">0x01</span><span class="p">(</span><span class="o">%</span><span class="n">rcx</span><span class="p">),</span><span class="o">%</span><span class="n">ecx</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ed2</span>        <span class="n">movl</span>    <span class="o">%</span><span class="n">ecx</span><span class="p">,</span><span class="o">%</span><span class="n">edi</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ed4</span>        <span class="n">call</span>    <span class="o">*%</span><span class="n">rax</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ed6</span>        <span class="n">addq</span>    <span class="err">$</span><span class="mh">0x10</span><span class="p">,</span><span class="o">%</span><span class="n">rsp</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">eda</span>        <span class="n">popq</span>    <span class="o">%</span><span class="n">rbp</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">edb</span>        <span class="n">ret</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">edc</span>        <span class="n">nopl</span>    <span class="mh">0x00</span><span class="p">(</span><span class="o">%</span><span class="n">rax</span><span class="p">)</span>
</span><span class='line'><span class="nl">_main:</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ee0</span>        <span class="n">pushq</span>   <span class="o">%</span><span class="n">rbp</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ee1</span>        <span class="n">movq</span>    <span class="o">%</span><span class="n">rsp</span><span class="p">,</span><span class="o">%</span><span class="n">rbp</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ee4</span>        <span class="n">subq</span>    <span class="err">$</span><span class="mh">0x20</span><span class="p">,</span><span class="o">%</span><span class="n">rsp</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ee8</span>        <span class="n">movl</span>    <span class="o">%</span><span class="n">edi</span><span class="p">,</span><span class="mh">0xfc</span><span class="p">(</span><span class="o">%</span><span class="n">rbp</span><span class="p">)</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">eeb</span>        <span class="n">movq</span>    <span class="o">%</span><span class="n">rsi</span><span class="p">,</span><span class="mh">0xf0</span><span class="p">(</span><span class="o">%</span><span class="n">rbp</span><span class="p">)</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">eef</span>        <span class="n">movl</span>    <span class="err">$</span><span class="mh">0x00000001</span><span class="p">,</span><span class="o">%</span><span class="n">eax</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ef4</span>        <span class="n">movl</span>    <span class="o">%</span><span class="n">eax</span><span class="p">,</span><span class="o">%</span><span class="n">edi</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ef6</span>        <span class="n">callq</span>   <span class="n">_f</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">efb</span>        <span class="n">movl</span>    <span class="mh">0xec</span><span class="p">(</span><span class="o">%</span><span class="n">rbp</span><span class="p">),</span><span class="o">%</span><span class="n">eax</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">efe</span>        <span class="n">addq</span>    <span class="err">$</span><span class="mh">0x20</span><span class="p">,</span><span class="o">%</span><span class="n">rsp</span>
</span><span class='line'><span class="mf">0000000100000f</span><span class="mo">02</span>        <span class="n">popq</span>    <span class="o">%</span><span class="n">rbp</span>
</span><span class='line'><span class="mf">0000000100000f</span><span class="mo">03</span>        <span class="n">ret</span>
</span></code></pre></td></tr></table></div></figure>




<iframe width="560" height="315" src="http://www.youtube.com/embed/i2fhNVQPb5I?rel=0" frameborder="0" allowfullscreen></iframe>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-08-01T18:25:00-07:00" pubdate data-updated="true">Aug 1<span>st</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/c/'>c</a>, <a class='category' href='/blog/categories/programming/'>programming</a>


</div>
	
</div></article>


    <article class="post">
	<h1 class="title"><a href="/blog/2012/07/14/c-pointers-the-hard-way/">C Pointers the Hard Way</a></h1>
	<div class="entry-content">
		<p>Couple weeks ago read on stackoverflow question &#8221;<a href="http://stackoverflow.com/questions/4025768/what-do-people-find-difficult-about-c-pointers">What do people find difficult about C pointers?</a>&#8221; and I found interesting answers here. One of them is:</p>

<p>  <strong>Many programmers today don&#8217;t know how their machine works, just as most people who know how to drive a car don&#8217;t know anything about the engine.</strong></p>

<p>I think main idea to understand how pointers work is doing some code and then debug it where you can see step by step operations with memory and can play with many variations. So, it&#8217;s easy to say like read this and this and then you will understand how pointers work. In my case AHA-moment with pointers was when I found in gdb commands <strong>print</strong> (Print value of expression EXP) and <strong>x</strong> (Examine memory: x/FMT ADDRESS).</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="cp">#include &lt;stdio.h&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">int</span> <span class="o">*</span><span class="n">p</span><span class="p">;</span>
</span><span class='line'>  <span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">i</span><span class="p">;</span>
</span><span class='line'>  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">p</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>gcc -g -Wall -Werror -O0 -std=c99 -o test test.o -lm</strong></p>

<p>and then <strong>gdb ./test</strong></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="k">break</span> <span class="n">main</span>
</span><span class='line'><span class="n">Breakpoint</span> <span class="mi">1</span> <span class="n">at</span> <span class="mh">0x100000ee4</span><span class="o">:</span> <span class="n">file</span> <span class="n">test</span><span class="p">.</span><span class="n">c</span><span class="p">,</span> <span class="n">line</span> <span class="mf">5.</span>
</span><span class='line'><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">run</span>
</span><span class='line'><span class="n">Starting</span> <span class="n">program</span><span class="o">:</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">khakimov</span><span class="o">/</span><span class="n">Projects</span><span class="o">/</span><span class="n">current</span><span class="o">/</span><span class="n">c</span><span class="o">/</span><span class="n">cs107</span><span class="o">/</span><span class="n">lec07</span><span class="o">/</span><span class="n">test</span>
</span><span class='line'><span class="n">Reading</span> <span class="n">symbols</span> <span class="k">for</span> <span class="n">shared</span> <span class="n">libraries</span> <span class="o">+</span><span class="p">........................</span> <span class="n">done</span>
</span><span class='line'>
</span><span class='line'><span class="n">Breakpoint</span> <span class="mi">1</span><span class="p">,</span> <span class="n">main</span> <span class="p">()</span> <span class="n">at</span> <span class="n">test</span><span class="p">.</span><span class="n">c</span><span class="o">:</span><span class="mi">5</span>
</span><span class='line'><span class="mi">5</span>         <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</span><span class='line'><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">step</span>
</span><span class='line'><span class="mi">7</span>         <span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">i</span><span class="p">;</span>
</span><span class='line'><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">print</span> <span class="n">i</span>
</span><span class='line'><span class="err">$</span><span class="mi">1</span> <span class="o">=</span> <span class="mi">10</span>
</span><span class='line'><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">p</span> <span class="o">&amp;</span><span class="n">i</span>
</span><span class='line'><span class="err">$</span><span class="mi">2</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="p">)</span> <span class="mh">0x7fff5fbfef94</span>
</span><span class='line'><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">print</span> <span class="n">p</span>
</span><span class='line'><span class="err">$</span><span class="mi">4</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="p">)</span> <span class="mh">0x7fff5fbfef94</span>
</span><span class='line'><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">p</span> <span class="o">*</span><span class="n">p</span>
</span><span class='line'><span class="err">$</span><span class="mi">5</span> <span class="o">=</span> <span class="mi">10</span>
</span></code></pre></td></tr></table></div></figure>


<p>then try to use x to examine memory:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">x</span><span class="o">/</span><span class="mi">1</span><span class="n">bt</span> <span class="n">p</span>
</span><span class='line'><span class="mh">0x7fff5fbfef94</span><span class="o">:</span> <span class="mo">00001010</span>
</span><span class='line'><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">x</span><span class="o">/</span><span class="mi">1</span><span class="n">bt</span> <span class="o">&amp;</span><span class="n">i</span>
</span><span class='line'><span class="mh">0x7fff5fbfef94</span><span class="o">:</span> <span class="mo">00001010</span>
</span><span class='line'><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">x</span><span class="o">/</span><span class="mi">1</span><span class="n">bt</span> <span class="o">*&amp;</span><span class="n">p</span>
</span><span class='line'><span class="mh">0x7fff5fbfef94</span><span class="o">:</span> <span class="mo">00001010</span>
</span><span class='line'><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">x</span><span class="o">/</span><span class="mi">1</span><span class="n">bt</span> <span class="o">&amp;</span><span class="n">p</span>
</span><span class='line'><span class="mh">0x7fff5fbfef88</span><span class="o">:</span> <span class="mi">10010100</span>
</span></code></pre></td></tr></table></div></figure>


<p>So, my suggestion is read for sure K&amp;R about pointers then open your editor, compile some code and then play with gdb till you will clear understand how and why it works. Good luck!</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-07-14T12:57:00-07:00" pubdate data-updated="true">Jul 14<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/c/'>c</a>, <a class='category' href='/blog/categories/pointers/'>pointers</a>, <a class='category' href='/blog/categories/programming/'>programming</a>


</div>
	
</div></article>


    <article class="post">
	<h1 class="title"><a href="/blog/2012/06/18/x-ratelimit-limit-api/">X-RateLimit-Limit API</a></h1>
	<div class="entry-content">
		<p>some api have a limit requests, like to 5000 per hour as github has:
○ curl -i https://api.github.com/users/whatever</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>HTTP/1.1 200 OK
</span><span class='line'>Status: 200 OK
</span><span class='line'>X-RateLimit-Limit: 5000
</span><span class='line'>X-RateLimit-Remaining: 4966</span></code></pre></td></tr></table></div></figure>


<p>or angel.co 1000 per hour requests:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>○ curl -i http://api.angel.co/
</span><span class='line'>...
</span><span class='line'>Server: nginx
</span><span class='line'>X-RateLimit-Limit: 1000
</span><span class='line'>X-RateLimit-Remaining: 978</span></code></pre></td></tr></table></div></figure>


<p>Never&#8217;ve seen this before :lame, but as tip - if you are building API and want to limit requests check this link <a href="http://www.ruby-forum.com/topic/201555">http://www.ruby-forum.com/topic/201555</a>, from flip side you can use it as a counter.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-06-18T14:38:00-07:00" pubdate data-updated="true">Jun 18<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/hacking/'>hacking</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>, <a class='category' href='/blog/categories/tips/'>tips</a>


</div>
	
</div></article>


    <article class="post">
	<h1 class="title"><a href="/blog/2012/06/04/puzzle-node-number-1/">Puzzle Node #1</a></h1>
	<div class="entry-content">
		<p>First of all I&#8217;m not going to spoil here any solution, just my thoughts about solving this. In my case the main problem with puzzles is focus. You don&#8217;t need to be awesome programmer to solve it, just need to understand what to solve and then just write few lines of code.</p>

<p><a href="http://puzzlenode.com/puzzles/1-international-trade">Puzzle</a> <strong>&#8220;International trade&#8221;</strong> has two files. The first is an XML file containing the conversion rates for exchanging one currency with another. The second is a CSV file containing sales data by transaction for an international business. Your goal is to parse all the transactions and return the grand total of all sales for a given item. Currently I stuck with <em>Some conversion rates are missing; you will need to derive them using the information provided.</em></p>

<p>It means if we have pair EUR/USD and EUR/AUD we have to derive USD/AUD.</p>

<p>EUR/USD 1.2494 -> USD/EUR 0.8003
EUR/AUD 1.2846 -> AUD/EUR 0.7785
USD/AUD 1.2846 / 1.2494 or 0.8003 * 1.2846 or 0.8003 / 0.7785 = 1.028</p>

<p>Ok, SAMPLE_RATES.xml has this curr</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
</span><span class='line'><span class="nt">&lt;rates&gt;</span>
</span><span class='line'>  <span class="nt">&lt;rate&gt;</span>
</span><span class='line'>    <span class="nt">&lt;from&gt;</span>AUD<span class="nt">&lt;/from&gt;</span>
</span><span class='line'>    <span class="nt">&lt;to&gt;</span>CAD<span class="nt">&lt;/to&gt;</span>
</span><span class='line'>    <span class="nt">&lt;conversion&gt;</span>1.0079<span class="nt">&lt;/conversion&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/rate&gt;</span>
</span><span class='line'>  <span class="nt">&lt;rate&gt;</span>
</span><span class='line'>    <span class="nt">&lt;from&gt;</span>CAD<span class="nt">&lt;/from&gt;</span>
</span><span class='line'>    <span class="nt">&lt;to&gt;</span>USD<span class="nt">&lt;/to&gt;</span>
</span><span class='line'>    <span class="nt">&lt;conversion&gt;</span>1.0090<span class="nt">&lt;/conversion&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/rate&gt;</span>
</span><span class='line'>  <span class="nt">&lt;rate&gt;</span>
</span><span class='line'>    <span class="nt">&lt;from&gt;</span>USD<span class="nt">&lt;/from&gt;</span>
</span><span class='line'>    <span class="nt">&lt;to&gt;</span>CAD<span class="nt">&lt;/to&gt;</span>
</span><span class='line'>    <span class="nt">&lt;conversion&gt;</span>0.9911<span class="nt">&lt;/conversion&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/rate&gt;</span>
</span><span class='line'><span class="nt">&lt;/rates&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>our program should convert and find USD/AUD. Let&#8217;s do it on the papper and then code.</p>

<p>AUD/CAD 1.0079
CAD/USD 1.0090</p>

<p>USD/CAD 0.9911</p>

<p>USD/AUD ?      <br/>
USD/CAD 0.9911 / AUD/CAD    1.0079 = 0.9833</p>

<p>To find USD/AUD I should devided USD/CAD and AUD/CAD. So, in our case if we are looking for USD/AUD - USD/$CUR devided AUD/$CUR. If we don&#8217;t have USD/$CUR we can convert $CUR/USD to USD/$CUR just devided 1/rate.</p>

<ol>
<li>Build hash with current rates.</li>
<li>Derive inverted pair. USD/CAD -> CAD/USD (deviding 1/currency)</li>
<li>Find the pair that need to find.</li>
</ol>


<p>few days later I&#8217;ve decided that is not good solution. Here is new refactored version:</p>

<ol>
<li>Build hash with current rates.</li>
<li>Derive with recursion. For example if we have AUD/CAD and CAD/USD we just derive AUD to CAD and then CAD to USD, so we will get AUD/USD.</li>
</ol>


<p>ps: yea, I&#8217;ve solved it. Going to try <a href="http://puzzlenode.com/puzzles/2-cheap-tourist-fast-tourist">next one</a>.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-06-04T13:21:00-07:00" pubdate data-updated="true">Jun 4<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/programing/'>programing</a>, <a class='category' href='/blog/categories/puzzle/'>puzzle</a>, <a class='category' href='/blog/categories/puzzlenode/'>puzzlenode</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>


</div>
	
</div></article>


    <article class="post">
	<h1 class="title"><a href="/blog/2012/05/24/my-first-gem/">My First Gem</a></h1>
	<div class="entry-content">
		<p>Long time no post here, was a busy month. Learning a lot of stuff about algorithms as I said before and now I know how packers work (like zip, tar etc). Will be also good to complete of those algorithms on ruby, like binary tree search and tries, will see.</p>

<p>Btw, doing some stuff with rails now I&#8217;ve relised my first gem. It called <a href="https://github.com/khakimov/id_encoder">id_encoder</a> and this is pretty cool encoder which helps you generating consecutive, predictable URLs. Here is description:</p>

<blockquote><p>Ruby implementation for generating Tiny URL- and bit.ly-like URLs.</p>

<p>A bit-shuffling approach is used to avoid generating consecutive, predictable URLs. However, the algorithm is deterministic and will guarantee that no collisions will occur.</p>

<p>The URL alphabet is fully customizable and may contain any number of characters. By default, digits and lower-case letters are used, with some removed to avoid confusion between characters like o, O and 0. The default alphabet is shuffled and has a prime number of characters to further improve the results of the algorithm.</p>

<p>The block size specifies how many bits will be shuffled. The lower BLOCK_SIZE bits are reversed. Any bits higher than BLOCK_SIZE will remain as is. BLOCK_SIZE of 0 will leave all bits unaffected and the algorithm will simply be converting your integer to a different base.</p>

<p>The intended use is that incrementing, consecutive integers will be used as keys to generate the short URLs. For example, when creating a new URL, the unique integer ID assigned by a database could be used to generate the URL by using this module. Or a simple counter may be used. As long as the same integer is not used twice, the same short URL will not be generated twice.</p>

<p>The module supports both encoding and decoding of URLs. The min_length parameter allows you to pad the URL if you want it to be a specific length.</p></blockquote>

<p>In few words - you can use it with uniq integer of id record from database and convert to symbols:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>IdEncoder::UrlEncoder.encode_url(10) # =&gt; "csqsc"
</span><span class='line'>IdEncoder::UrlEncoder.decode_url('csqsc') # =&gt; 10</span></code></pre></td></tr></table></div></figure>


<p>cool, isn&#8217;t? Epicly awesome part was using &#8220;low&#8221; ruby like OR/AND, Bitwise &lt;&lt;. Looks like you coding asembler or some machine binary language. It&#8217;s remind me childhod, that I was young and trees was so big I did some asembler code (mov ax, bx &#8230; int 21h &#8230;)</p>

<p>So, next big thing is going to be RSpect. I really want to start using tests and start projects from test and only then code. It looks cool when you know what to do with test, but now this is hard to switch from code to test first. Will update my gem with tests soon!</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-05-24T16:04:00-07:00" pubdate data-updated="true">May 24<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/gem/'>gem</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>, <a class='category' href='/blog/categories/rubygems/'>rubygems</a>


</div>
	
</div></article>

<nav id="pagenavi">
    
        <a href="/blog/page/2/" class="prev">Prev</a>
    
    
        <a href="/blog/page/4/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2013

    khakimov

</footer>
	<script src="/javascripts/slash.js"></script>
<script type="text/javascript">
var _hcp = _hcp || {};
_hcp.widget_id = 2313;
_hcp.widget = "Stream";
(function() { 
var hcc = document.createElement("script"); hcc.type = "text/javascript"; hcc.async = true;
hcc.src = ("https:" == document.location.protocol ? "https" : "http")+"://widget.hypercomments.com/apps/js/hc.js";
var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hcc, s.nextSibling); 
})();</script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->




	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-31552911-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>