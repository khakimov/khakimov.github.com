
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>curious and driven</title>
	<meta name="author" content="khakimov">

	
	<meta name="description" content="Immigration Immigration will solve the talent war in the valley.
What hackers do not know about business Very interesting if you don&#8217;t &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="curious and driven" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>

<body>
	<header id="header" class="inner"><h1><a href="/">curious and driven</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:khakimov.github.com">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:khakimov.github.com">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner">


    <article class="post">
	<h1 class="title"><a href="/blog/2012/08/07/immigration-will-solve-the-talent-war-in-the-valley/">Immigration Will Solve the Talent War in the Valley</a></h1>
	<div class="entry-content">
		<ol>
<li><p><a href="http://rvivek.com/immigration/">Immigration</a> Immigration will solve the talent war in the valley.</p></li>
<li><p><a href="http://blog.filepicker.io/post/28881520162/what-hackers-dont-know-about-business">What hackers do not know about business</a> Very interesting if you don&#8217;t understand the differences between Marketing, Distribution, Sales, or Business Development or special terms like LTV, COCA.</p></li>
<li><p><a href="http://racket-lang.org/">Racket programming language</a> Never heard about this programming language has a dialect of Lisp and a descendant of Scheme.</p></li>
<li><p><a href="http://raganwald.posterous.com/what-ive-learned-about-learning">What I have Learned About Learning</a> My weakness is thinking that when I first grasp an idea, I think I&#8217;m done. I&#8217;ve gotten better over time. I have learned to exercise ideas, to write and use little libraries, even to write essays like this to help me think the little implications through.</p></li>
<li><p><a href="http://news.ycombinator.com/item?id=4350827">Job market for a 30+ person learning to code?</a> Too old to fail? 37-year old person going to learn to code and asking about being to old to be employable.</p></li>
</ol>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-08-07T11:38:00-07:00" pubdate data-updated="true">Aug 7<span>th</span>, 2012</time></div>
	<div class="tags">

</div>
	
</div></article>


    <article class="post">
	<h1 class="title"><a href="/blog/2012/08/06/curiosity-landed-on-Mars/">Curiosity Landed on Mars</a></h1>
	<div class="entry-content">
		<h2>Curiosity&#8217;s Descent</h2>

<iframe width="560" height="315" src="http://www.youtube.com/embed/UcGMDXy-Y1I?rel=0" frameborder="0" allowfullscreen></iframe>


<p><strong>“Touchdown confirmed,” Allen Chen, an engineer in the control room here, said at 10:32 p.m. Sunday. <strong>“We’re safe on Mars.”</strong> The room erupted with cheers, hugs, handshakes and high-fives.</strong></p>

<p>What interesting for me is only one other country, the Soviet Union, has successfully landed anything on Mars, and that spacecraft, Mars 3 in 1971, fell silent shortly after landing. So far, this rover appears to be healthy.</p>

<ol>
<li><p><a href="http://www.ft.com/cms/s/2/93a47a62-daf0-11e1-8074-00144feab49a.html#axzz22p2ab3qx">A man walks into a bank</a>. Guy deposits a junk-mail cheque for $95,000 – for a joke. The bank cashes it.</p></li>
<li><p><a href="http://viniciusvacanti.com/2012/08/06/advice-i-wish-i-could-have-given-myself-5-years-ago/">Advice I Wish I Could Have Given Myself 5 Years Ago</a>. Guy (co-founder Yipit well funded startup with 25 employes) fantasize about going back in time and giving himself advice based on what he’s learned over the last 5 years.</p></li>
<li><p><a href="http://www.wired.com/gadgetlab/2012/08/apple-amazon-mat-honan-hacking/">How Apple and Amazon Security Flaws Led to My Epic Hacking</a>. In the space of one hour, my entire digital life was destroyed&#8230; Not bad for begining</p></li>
</ol>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-08-06T18:47:00-07:00" pubdate data-updated="true">Aug 6<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/news/'>news</a>


</div>
	
</div></article>


    <article class="post">
	<h1 class="title"><a href="/blog/2012/08/04/transform-to-linkblog/">Transform to LinkBlog</a></h1>
	<div class="entry-content">
		<p>I had an idea about links blog where I can post and describe some interesting for me news, blog posts and stuff around internet.</p>

<p>Example:</p>

<ol>
<li><a href="http://lars-lab.jpl.nasa.gov/JPL_Coding_Standard_C.pdf">NASA JPL C Coding Standard [pdf]</a> Cool doc about coding standart at NASA. It&#8217;s actually a collection of best available insights in a
form that can help us improve the safety and reliability of your code.</li>
</ol>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-08-04T18:55:00-07:00" pubdate data-updated="true">Aug 4<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/blogging/'>blogging</a>, <a class='category' href='/blog/categories/links/'>links</a>


</div>
	
</div></article>


    <article class="post">
	<h1 class="title"><a href="/blog/2012/08/01/c-tricks/">C Tricks</a></h1>
	<div class="entry-content">
		<p>This C code shows me a big sign <strong>&#8220;You don&#8217;t know C!&#8221;</strong> =) Trying to figure out how it works. Any idea?</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="cp">#include &lt;stdio.h&gt;</span>
</span><span class='line'><span class="cp">#include &lt;stdlib.h&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">f</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">static</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="k">const</span> <span class="n">ft</span><span class="p">[</span><span class="mi">2</span><span class="p">])(</span><span class="kt">int</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span> <span class="n">f</span><span class="p">,</span> <span class="n">exit</span> <span class="p">};</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">j</span><span class="p">);</span>
</span><span class='line'>    <span class="n">ft</span><span class="p">[</span><span class="n">j</span><span class="o">/</span><span class="mi">1000</span><span class="p">](</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>or this one</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="cp">#include &lt;stdio.h&gt;</span>
</span><span class='line'><span class="cp">#include &lt;stdlib.h&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">j</span><span class="p">);</span>
</span><span class='line'>  <span class="p">(</span><span class="o">&amp;</span><span class="n">main</span> <span class="o">+</span> <span class="p">(</span><span class="o">&amp;</span><span class="n">exit</span> <span class="o">-</span> <span class="o">&amp;</span><span class="n">main</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">j</span><span class="o">/</span><span class="mi">1000</span><span class="p">))(</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>&#8230;will update this post with ideas ;)</p>

<p>Ok, if you are mac use then you have to use <strong>otool</strong> to view the generated assembly code. <strong>otool -tV ./test</strong></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="p">(</span><span class="n">__TEXT</span><span class="p">,</span><span class="n">__text</span><span class="p">)</span> <span class="n">section</span>
</span><span class='line'><span class="nl">start:</span>
</span><span class='line'><span class="mf">0000000100000e40</span>        <span class="n">pushq</span>   <span class="err">$</span><span class="mh">0x00</span>
</span><span class='line'><span class="mf">0000000100000e42</span>        <span class="n">movq</span>    <span class="o">%</span><span class="n">rsp</span><span class="p">,</span><span class="o">%</span><span class="n">rbp</span>
</span><span class='line'><span class="mf">0000000100000e45</span>        <span class="n">andq</span>    <span class="err">$</span><span class="mh">0xf0</span><span class="p">,</span><span class="o">%</span><span class="n">rsp</span>
</span><span class='line'><span class="mf">0000000100000e49</span>        <span class="n">movq</span>    <span class="mh">0x08</span><span class="p">(</span><span class="o">%</span><span class="n">rbp</span><span class="p">),</span><span class="o">%</span><span class="n">rdi</span>
</span><span class='line'><span class="mf">0000000100000e4</span><span class="n">d</span>        <span class="n">leaq</span>    <span class="mh">0x10</span><span class="p">(</span><span class="o">%</span><span class="n">rbp</span><span class="p">),</span><span class="o">%</span><span class="n">rsi</span>
</span><span class='line'><span class="mf">0000000100000e51</span>        <span class="n">movl</span>    <span class="o">%</span><span class="n">edi</span><span class="p">,</span><span class="o">%</span><span class="n">edx</span>
</span><span class='line'><span class="mf">0000000100000e53</span>        <span class="n">addl</span>    <span class="err">$</span><span class="mh">0x01</span><span class="p">,</span><span class="o">%</span><span class="n">edx</span>
</span><span class='line'><span class="mf">0000000100000e56</span>        <span class="n">shll</span>    <span class="err">$</span><span class="mh">0x03</span><span class="p">,</span><span class="o">%</span><span class="n">edx</span>
</span><span class='line'><span class="mf">0000000100000e59</span>        <span class="n">addq</span>    <span class="o">%</span><span class="n">rsi</span><span class="p">,</span><span class="o">%</span><span class="n">rdx</span>
</span><span class='line'><span class="mf">0000000100000e5</span><span class="n">c</span>        <span class="n">movq</span>    <span class="o">%</span><span class="n">rdx</span><span class="p">,</span><span class="o">%</span><span class="n">rcx</span>
</span><span class='line'><span class="mf">0000000100000e5</span><span class="n">f</span>        <span class="n">jmp</span>     <span class="mh">0x100000e65</span>
</span><span class='line'><span class="mf">0000000100000e61</span>        <span class="n">addq</span>    <span class="err">$</span><span class="mh">0x08</span><span class="p">,</span><span class="o">%</span><span class="n">rcx</span>
</span><span class='line'><span class="mf">0000000100000e65</span>        <span class="n">cmpq</span>    <span class="err">$</span><span class="mh">0x00</span><span class="p">,(</span><span class="o">%</span><span class="n">rcx</span><span class="p">)</span>
</span><span class='line'><span class="mf">0000000100000e69</span>        <span class="n">jne</span>     <span class="mh">0x100000e61</span>
</span><span class='line'><span class="mf">0000000100000e6</span><span class="n">b</span>        <span class="n">addq</span>    <span class="err">$</span><span class="mh">0x08</span><span class="p">,</span><span class="o">%</span><span class="n">rcx</span>
</span><span class='line'><span class="mf">0000000100000e6</span><span class="n">f</span>        <span class="n">callq</span>   <span class="n">_main</span>
</span><span class='line'><span class="mf">0000000100000e74</span>        <span class="n">movl</span>    <span class="o">%</span><span class="n">eax</span><span class="p">,</span><span class="o">%</span><span class="n">edi</span>
</span><span class='line'><span class="mf">0000000100000e76</span>        <span class="n">callq</span>   <span class="mh">0x100000f04</span>     <span class="p">;</span> <span class="n">symbol</span> <span class="n">stub</span> <span class="k">for</span><span class="o">:</span> <span class="n">_exit</span>
</span><span class='line'><span class="mf">0000000100000e7</span><span class="n">b</span>        <span class="n">hlt</span>
</span><span class='line'><span class="mf">0000000100000e7</span><span class="n">c</span>        <span class="n">nop</span>
</span><span class='line'><span class="mf">0000000100000e7</span><span class="n">d</span>        <span class="n">nop</span>
</span><span class='line'><span class="mf">0000000100000e7</span><span class="n">e</span>        <span class="n">nop</span>
</span><span class='line'><span class="mf">0000000100000e7</span><span class="n">f</span>        <span class="n">nop</span>
</span><span class='line'><span class="nl">_f:</span>
</span><span class='line'><span class="mf">0000000100000e80</span>        <span class="n">pushq</span>   <span class="o">%</span><span class="n">rbp</span>
</span><span class='line'><span class="mf">0000000100000e81</span>        <span class="n">movq</span>    <span class="o">%</span><span class="n">rsp</span><span class="p">,</span><span class="o">%</span><span class="n">rbp</span>
</span><span class='line'><span class="mf">0000000100000e84</span>        <span class="n">subq</span>    <span class="err">$</span><span class="mh">0x10</span><span class="p">,</span><span class="o">%</span><span class="n">rsp</span>
</span><span class='line'><span class="mf">0000000100000e88</span>        <span class="n">movl</span>    <span class="o">%</span><span class="n">edi</span><span class="p">,</span><span class="o">%</span><span class="n">eax</span>
</span><span class='line'><span class="mf">0000000100000e8</span><span class="n">a</span>        <span class="n">movl</span>    <span class="o">%</span><span class="n">eax</span><span class="p">,</span><span class="mh">0xfc</span><span class="p">(</span><span class="o">%</span><span class="n">rbp</span><span class="p">)</span>
</span><span class='line'><span class="mf">0000000100000e8</span><span class="n">d</span>        <span class="n">movl</span>    <span class="mh">0xfc</span><span class="p">(</span><span class="o">%</span><span class="n">rbp</span><span class="p">),</span><span class="o">%</span><span class="n">eax</span>
</span><span class='line'><span class="mf">0000000100000e90</span>        <span class="n">xorb</span>    <span class="o">%</span><span class="n">cl</span><span class="p">,</span><span class="o">%</span><span class="n">cl</span>
</span><span class='line'><span class="mf">0000000100000e92</span>        <span class="n">leaq</span>    <span class="mh">0x0000009b</span><span class="p">(</span><span class="o">%</span><span class="n">rip</span><span class="p">),</span><span class="o">%</span><span class="n">rdx</span>
</span><span class='line'><span class="mf">0000000100000e99</span>        <span class="n">movq</span>    <span class="o">%</span><span class="n">rdx</span><span class="p">,</span><span class="o">%</span><span class="n">rdi</span>
</span><span class='line'><span class="mf">0000000100000e9</span><span class="n">c</span>        <span class="n">movl</span>    <span class="o">%</span><span class="n">eax</span><span class="p">,</span><span class="o">%</span><span class="n">esi</span>
</span><span class='line'><span class="mf">0000000100000e9</span><span class="n">e</span>        <span class="n">movb</span>    <span class="o">%</span><span class="n">cl</span><span class="p">,</span><span class="o">%</span><span class="n">al</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ea0</span>        <span class="n">callq</span>   <span class="mh">0x100000f0a</span>     <span class="p">;</span> <span class="n">symbol</span> <span class="n">stub</span> <span class="k">for</span><span class="o">:</span> <span class="n">_printf</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ea5</span>        <span class="n">movl</span>    <span class="mh">0xfc</span><span class="p">(</span><span class="o">%</span><span class="n">rbp</span><span class="p">),</span><span class="o">%</span><span class="n">ecx</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ea8</span>        <span class="n">movl</span>    <span class="err">$</span><span class="mh">0x10624dd3</span><span class="p">,</span><span class="o">%</span><span class="n">esi</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ead</span>        <span class="n">movl</span>    <span class="o">%</span><span class="n">ecx</span><span class="p">,</span><span class="o">%</span><span class="n">eax</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">eaf</span>        <span class="n">imull</span>   <span class="o">%</span><span class="n">esi</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">eb1</span>        <span class="n">movl</span>    <span class="o">%</span><span class="n">edx</span><span class="p">,</span><span class="o">%</span><span class="n">eax</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">eb3</span>        <span class="n">movl</span>    <span class="o">%</span><span class="n">eax</span><span class="p">,</span><span class="o">%</span><span class="n">ecx</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">eb5</span>        <span class="n">shrl</span>    <span class="err">$</span><span class="mh">0x1f</span><span class="p">,</span><span class="o">%</span><span class="n">ecx</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">eb8</span>        <span class="n">sarl</span>    <span class="err">$</span><span class="mh">0x06</span><span class="p">,</span><span class="o">%</span><span class="n">eax</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ebb</span>        <span class="n">leal</span>    <span class="p">(</span><span class="o">%</span><span class="n">rax</span><span class="p">,</span><span class="o">%</span><span class="n">rcx</span><span class="p">),</span><span class="o">%</span><span class="n">eax</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ebe</span>        <span class="n">movslq</span>  <span class="o">%</span><span class="n">eax</span><span class="p">,</span><span class="o">%</span><span class="n">rax</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ec1</span>        <span class="n">leaq</span>    <span class="mh">0x00000180</span><span class="p">(</span><span class="o">%</span><span class="n">rip</span><span class="p">),</span><span class="o">%</span><span class="n">rcx</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ec8</span>        <span class="n">movq</span>    <span class="p">(</span><span class="o">%</span><span class="n">rcx</span><span class="p">,</span><span class="o">%</span><span class="n">rax</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span><span class="o">%</span><span class="n">rax</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ecc</span>        <span class="n">movl</span>    <span class="mh">0xfc</span><span class="p">(</span><span class="o">%</span><span class="n">rbp</span><span class="p">),</span><span class="o">%</span><span class="n">ecx</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ecf</span>        <span class="n">leal</span>    <span class="mh">0x01</span><span class="p">(</span><span class="o">%</span><span class="n">rcx</span><span class="p">),</span><span class="o">%</span><span class="n">ecx</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ed2</span>        <span class="n">movl</span>    <span class="o">%</span><span class="n">ecx</span><span class="p">,</span><span class="o">%</span><span class="n">edi</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ed4</span>        <span class="n">call</span>    <span class="o">*%</span><span class="n">rax</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ed6</span>        <span class="n">addq</span>    <span class="err">$</span><span class="mh">0x10</span><span class="p">,</span><span class="o">%</span><span class="n">rsp</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">eda</span>        <span class="n">popq</span>    <span class="o">%</span><span class="n">rbp</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">edb</span>        <span class="n">ret</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">edc</span>        <span class="n">nopl</span>    <span class="mh">0x00</span><span class="p">(</span><span class="o">%</span><span class="n">rax</span><span class="p">)</span>
</span><span class='line'><span class="nl">_main:</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ee0</span>        <span class="n">pushq</span>   <span class="o">%</span><span class="n">rbp</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ee1</span>        <span class="n">movq</span>    <span class="o">%</span><span class="n">rsp</span><span class="p">,</span><span class="o">%</span><span class="n">rbp</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ee4</span>        <span class="n">subq</span>    <span class="err">$</span><span class="mh">0x20</span><span class="p">,</span><span class="o">%</span><span class="n">rsp</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ee8</span>        <span class="n">movl</span>    <span class="o">%</span><span class="n">edi</span><span class="p">,</span><span class="mh">0xfc</span><span class="p">(</span><span class="o">%</span><span class="n">rbp</span><span class="p">)</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">eeb</span>        <span class="n">movq</span>    <span class="o">%</span><span class="n">rsi</span><span class="p">,</span><span class="mh">0xf0</span><span class="p">(</span><span class="o">%</span><span class="n">rbp</span><span class="p">)</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">eef</span>        <span class="n">movl</span>    <span class="err">$</span><span class="mh">0x00000001</span><span class="p">,</span><span class="o">%</span><span class="n">eax</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ef4</span>        <span class="n">movl</span>    <span class="o">%</span><span class="n">eax</span><span class="p">,</span><span class="o">%</span><span class="n">edi</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">ef6</span>        <span class="n">callq</span>   <span class="n">_f</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">efb</span>        <span class="n">movl</span>    <span class="mh">0xec</span><span class="p">(</span><span class="o">%</span><span class="n">rbp</span><span class="p">),</span><span class="o">%</span><span class="n">eax</span>
</span><span class='line'><span class="mo">0000000100000</span><span class="n">efe</span>        <span class="n">addq</span>    <span class="err">$</span><span class="mh">0x20</span><span class="p">,</span><span class="o">%</span><span class="n">rsp</span>
</span><span class='line'><span class="mf">0000000100000f</span><span class="mo">02</span>        <span class="n">popq</span>    <span class="o">%</span><span class="n">rbp</span>
</span><span class='line'><span class="mf">0000000100000f</span><span class="mo">03</span>        <span class="n">ret</span>
</span></code></pre></td></tr></table></div></figure>




<iframe width="560" height="315" src="http://www.youtube.com/embed/i2fhNVQPb5I?rel=0" frameborder="0" allowfullscreen></iframe>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-08-01T18:25:00-07:00" pubdate data-updated="true">Aug 1<span>st</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/c/'>c</a>, <a class='category' href='/blog/categories/programming/'>programming</a>


</div>
	
</div></article>


    <article class="post">
	<h1 class="title"><a href="/blog/2012/07/14/c-pointers-the-hard-way/">C Pointers the Hard Way</a></h1>
	<div class="entry-content">
		<p>Couple weeks ago read on stackoverflow question &#8221;<a href="http://stackoverflow.com/questions/4025768/what-do-people-find-difficult-about-c-pointers">What do people find difficult about C pointers?</a>&#8221; and I found interesting answers here. One of them is:</p>

<p>  <strong>Many programmers today don&#8217;t know how their machine works, just as most people who know how to drive a car don&#8217;t know anything about the engine.</strong></p>

<p>I think main idea to understand how pointers work is doing some code and then debug it where you can see step by step operations with memory and can play with many variations. So, it&#8217;s easy to say like read this and this and then you will understand how pointers work. In my case AHA-moment with pointers was when I found in gdb commands <strong>print</strong> (Print value of expression EXP) and <strong>x</strong> (Examine memory: x/FMT ADDRESS).</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="cp">#include &lt;stdio.h&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">int</span> <span class="o">*</span><span class="n">p</span><span class="p">;</span>
</span><span class='line'>  <span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">i</span><span class="p">;</span>
</span><span class='line'>  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">p</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>gcc -g -Wall -Werror -O0 -std=c99 -o test test.o -lm</strong></p>

<p>and then <strong>gdb ./test</strong></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="k">break</span> <span class="n">main</span>
</span><span class='line'><span class="n">Breakpoint</span> <span class="mi">1</span> <span class="n">at</span> <span class="mh">0x100000ee4</span><span class="o">:</span> <span class="n">file</span> <span class="n">test</span><span class="p">.</span><span class="n">c</span><span class="p">,</span> <span class="n">line</span> <span class="mf">5.</span>
</span><span class='line'><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">run</span>
</span><span class='line'><span class="n">Starting</span> <span class="n">program</span><span class="o">:</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">khakimov</span><span class="o">/</span><span class="n">Projects</span><span class="o">/</span><span class="n">current</span><span class="o">/</span><span class="n">c</span><span class="o">/</span><span class="n">cs107</span><span class="o">/</span><span class="n">lec07</span><span class="o">/</span><span class="n">test</span>
</span><span class='line'><span class="n">Reading</span> <span class="n">symbols</span> <span class="k">for</span> <span class="n">shared</span> <span class="n">libraries</span> <span class="o">+</span><span class="p">........................</span> <span class="n">done</span>
</span><span class='line'>
</span><span class='line'><span class="n">Breakpoint</span> <span class="mi">1</span><span class="p">,</span> <span class="n">main</span> <span class="p">()</span> <span class="n">at</span> <span class="n">test</span><span class="p">.</span><span class="n">c</span><span class="o">:</span><span class="mi">5</span>
</span><span class='line'><span class="mi">5</span>         <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</span><span class='line'><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">step</span>
</span><span class='line'><span class="mi">7</span>         <span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">i</span><span class="p">;</span>
</span><span class='line'><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">print</span> <span class="n">i</span>
</span><span class='line'><span class="err">$</span><span class="mi">1</span> <span class="o">=</span> <span class="mi">10</span>
</span><span class='line'><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">p</span> <span class="o">&amp;</span><span class="n">i</span>
</span><span class='line'><span class="err">$</span><span class="mi">2</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="p">)</span> <span class="mh">0x7fff5fbfef94</span>
</span><span class='line'><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">print</span> <span class="n">p</span>
</span><span class='line'><span class="err">$</span><span class="mi">4</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="p">)</span> <span class="mh">0x7fff5fbfef94</span>
</span><span class='line'><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">p</span> <span class="o">*</span><span class="n">p</span>
</span><span class='line'><span class="err">$</span><span class="mi">5</span> <span class="o">=</span> <span class="mi">10</span>
</span></code></pre></td></tr></table></div></figure>


<p>then try to use x to examine memory:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">x</span><span class="o">/</span><span class="mi">1</span><span class="n">bt</span> <span class="n">p</span>
</span><span class='line'><span class="mh">0x7fff5fbfef94</span><span class="o">:</span> <span class="mo">00001010</span>
</span><span class='line'><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">x</span><span class="o">/</span><span class="mi">1</span><span class="n">bt</span> <span class="o">&amp;</span><span class="n">i</span>
</span><span class='line'><span class="mh">0x7fff5fbfef94</span><span class="o">:</span> <span class="mo">00001010</span>
</span><span class='line'><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">x</span><span class="o">/</span><span class="mi">1</span><span class="n">bt</span> <span class="o">*&amp;</span><span class="n">p</span>
</span><span class='line'><span class="mh">0x7fff5fbfef94</span><span class="o">:</span> <span class="mo">00001010</span>
</span><span class='line'><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">x</span><span class="o">/</span><span class="mi">1</span><span class="n">bt</span> <span class="o">&amp;</span><span class="n">p</span>
</span><span class='line'><span class="mh">0x7fff5fbfef88</span><span class="o">:</span> <span class="mi">10010100</span>
</span></code></pre></td></tr></table></div></figure>


<p>So, my suggestion is read for sure K&amp;R about pointers then open your editor, compile some code and then play with gdb till you will clear understand how and why it works. Good luck!</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-07-14T12:57:00-07:00" pubdate data-updated="true">Jul 14<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/c/'>c</a>, <a class='category' href='/blog/categories/pointers/'>pointers</a>, <a class='category' href='/blog/categories/programming/'>programming</a>


</div>
	
</div></article>


    <article class="post">
	<h1 class="title"><a href="/blog/2012/06/18/x-ratelimit-limit-api/">X-RateLimit-Limit API</a></h1>
	<div class="entry-content">
		<p>some api have a limit requests, like to 5000 per hour as github has:
○ curl -i https://api.github.com/users/whatever</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>HTTP/1.1 200 OK
</span><span class='line'>Status: 200 OK
</span><span class='line'>X-RateLimit-Limit: 5000
</span><span class='line'>X-RateLimit-Remaining: 4966</span></code></pre></td></tr></table></div></figure>


<p>or angel.co 1000 per hour requests:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>○ curl -i http://api.angel.co/
</span><span class='line'>...
</span><span class='line'>Server: nginx
</span><span class='line'>X-RateLimit-Limit: 1000
</span><span class='line'>X-RateLimit-Remaining: 978</span></code></pre></td></tr></table></div></figure>


<p>Never&#8217;ve seen this before :lame, but as tip - if you are building API and want to limit requests check this link <a href="http://www.ruby-forum.com/topic/201555">http://www.ruby-forum.com/topic/201555</a>, from flip side you can use it as a counter.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-06-18T14:38:00-07:00" pubdate data-updated="true">Jun 18<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/hacking/'>hacking</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>, <a class='category' href='/blog/categories/tips/'>tips</a>


</div>
	
</div></article>


    <article class="post">
	<h1 class="title"><a href="/blog/2012/06/04/puzzle-node-number-1/">Puzzle Node #1</a></h1>
	<div class="entry-content">
		<p>First of all I&#8217;m not going to spoil here any solution, just my thoughts about solving this. In my case the main problem with puzzles is focus. You don&#8217;t need to be awesome programmer to solve it, just need to understand what to solve and then just write few lines of code.</p>

<p><a href="http://puzzlenode.com/puzzles/1-international-trade">Puzzle</a> <strong>&#8220;International trade&#8221;</strong> has two files. The first is an XML file containing the conversion rates for exchanging one currency with another. The second is a CSV file containing sales data by transaction for an international business. Your goal is to parse all the transactions and return the grand total of all sales for a given item. Currently I stuck with <em>Some conversion rates are missing; you will need to derive them using the information provided.</em></p>

<p>It means if we have pair EUR/USD and EUR/AUD we have to derive USD/AUD.</p>

<p>EUR/USD 1.2494 -> USD/EUR 0.8003
EUR/AUD 1.2846 -> AUD/EUR 0.7785
USD/AUD 1.2846 / 1.2494 or 0.8003 * 1.2846 or 0.8003 / 0.7785 = 1.028</p>

<p>Ok, SAMPLE_RATES.xml has this curr</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
</span><span class='line'><span class="nt">&lt;rates&gt;</span>
</span><span class='line'>  <span class="nt">&lt;rate&gt;</span>
</span><span class='line'>    <span class="nt">&lt;from&gt;</span>AUD<span class="nt">&lt;/from&gt;</span>
</span><span class='line'>    <span class="nt">&lt;to&gt;</span>CAD<span class="nt">&lt;/to&gt;</span>
</span><span class='line'>    <span class="nt">&lt;conversion&gt;</span>1.0079<span class="nt">&lt;/conversion&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/rate&gt;</span>
</span><span class='line'>  <span class="nt">&lt;rate&gt;</span>
</span><span class='line'>    <span class="nt">&lt;from&gt;</span>CAD<span class="nt">&lt;/from&gt;</span>
</span><span class='line'>    <span class="nt">&lt;to&gt;</span>USD<span class="nt">&lt;/to&gt;</span>
</span><span class='line'>    <span class="nt">&lt;conversion&gt;</span>1.0090<span class="nt">&lt;/conversion&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/rate&gt;</span>
</span><span class='line'>  <span class="nt">&lt;rate&gt;</span>
</span><span class='line'>    <span class="nt">&lt;from&gt;</span>USD<span class="nt">&lt;/from&gt;</span>
</span><span class='line'>    <span class="nt">&lt;to&gt;</span>CAD<span class="nt">&lt;/to&gt;</span>
</span><span class='line'>    <span class="nt">&lt;conversion&gt;</span>0.9911<span class="nt">&lt;/conversion&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/rate&gt;</span>
</span><span class='line'><span class="nt">&lt;/rates&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>our program should convert and find USD/AUD. Let&#8217;s do it on the papper and then code.</p>

<p>AUD/CAD 1.0079
CAD/USD 1.0090</p>

<p>USD/CAD 0.9911</p>

<p>USD/AUD ?      <br/>
USD/CAD 0.9911 / AUD/CAD    1.0079 = 0.9833</p>

<p>To find USD/AUD I should devided USD/CAD and AUD/CAD. So, in our case if we are looking for USD/AUD - USD/$CUR devided AUD/$CUR. If we don&#8217;t have USD/$CUR we can convert $CUR/USD to USD/$CUR just devided 1/rate.</p>

<ol>
<li>Build hash with current rates.</li>
<li>Derive inverted pair. USD/CAD -> CAD/USD (deviding 1/currency)</li>
<li>Find the pair that need to find.</li>
</ol>


<p>few days later I&#8217;ve decided that is not good solution. Here is new refactored version:</p>

<ol>
<li>Build hash with current rates.</li>
<li>Derive with recursion. For example if we have AUD/CAD and CAD/USD we just derive AUD to CAD and then CAD to USD, so we will get AUD/USD.</li>
</ol>


<p>ps: yea, I&#8217;ve solved it. Going to try <a href="http://puzzlenode.com/puzzles/2-cheap-tourist-fast-tourist">next one</a>.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-06-04T13:21:00-07:00" pubdate data-updated="true">Jun 4<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/programing/'>programing</a>, <a class='category' href='/blog/categories/puzzle/'>puzzle</a>, <a class='category' href='/blog/categories/puzzlenode/'>puzzlenode</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>


</div>
	
</div></article>


    <article class="post">
	<h1 class="title"><a href="/blog/2012/05/24/my-first-gem/">My First Gem</a></h1>
	<div class="entry-content">
		<p>Long time no post here, was a busy month. Learning a lot of stuff about algorithms as I said before and now I know how packers work (like zip, tar etc). Will be also good to complete of those algorithms on ruby, like binary tree search and tries, will see.</p>

<p>Btw, doing some stuff with rails now I&#8217;ve relised my first gem. It called <a href="https://github.com/khakimov/id_encoder">id_encoder</a> and this is pretty cool encoder which helps you generating consecutive, predictable URLs. Here is description:</p>

<blockquote><p>Ruby implementation for generating Tiny URL- and bit.ly-like URLs.</p>

<p>A bit-shuffling approach is used to avoid generating consecutive, predictable URLs. However, the algorithm is deterministic and will guarantee that no collisions will occur.</p>

<p>The URL alphabet is fully customizable and may contain any number of characters. By default, digits and lower-case letters are used, with some removed to avoid confusion between characters like o, O and 0. The default alphabet is shuffled and has a prime number of characters to further improve the results of the algorithm.</p>

<p>The block size specifies how many bits will be shuffled. The lower BLOCK_SIZE bits are reversed. Any bits higher than BLOCK_SIZE will remain as is. BLOCK_SIZE of 0 will leave all bits unaffected and the algorithm will simply be converting your integer to a different base.</p>

<p>The intended use is that incrementing, consecutive integers will be used as keys to generate the short URLs. For example, when creating a new URL, the unique integer ID assigned by a database could be used to generate the URL by using this module. Or a simple counter may be used. As long as the same integer is not used twice, the same short URL will not be generated twice.</p>

<p>The module supports both encoding and decoding of URLs. The min_length parameter allows you to pad the URL if you want it to be a specific length.</p></blockquote>

<p>In few words - you can use it with uniq integer of id record from database and convert to symbols:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>IdEncoder::UrlEncoder.encode_url(10) # =&gt; "csqsc"
</span><span class='line'>IdEncoder::UrlEncoder.decode_url('csqsc') # =&gt; 10</span></code></pre></td></tr></table></div></figure>


<p>cool, isn&#8217;t? Epicly awesome part was using &#8220;low&#8221; ruby like OR/AND, Bitwise &lt;&lt;. Looks like you coding asembler or some machine binary language. It&#8217;s remind me childhod, that I was young and trees was so big I did some asembler code (mov ax, bx &#8230; int 21h &#8230;)</p>

<p>So, next big thing is going to be RSpect. I really want to start using tests and start projects from test and only then code. It looks cool when you know what to do with test, but now this is hard to switch from code to test first. Will update my gem with tests soon!</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-05-24T16:04:00-07:00" pubdate data-updated="true">May 24<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/gem/'>gem</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>, <a class='category' href='/blog/categories/rubygems/'>rubygems</a>


</div>
	
</div></article>


    <article class="post">
	<h1 class="title"><a href="/blog/2012/05/11/back-to-school-linked-list-with-ruby/">Back to School: Linked List With Ruby</a></h1>
	<div class="entry-content">
		<p>CS106B is awesome! Today was a lecture about <a href="/blog/2012/04/27/data-structure/">Linked List</a> as I&#8217;ve already mention about this Data structures.</p>

<p>Linked lists are among the simplest and most common data structures. They can be used to implement several other common abstract data types, including stacks, queues, associative arrays, and symbolic expressions, though it is not uncommon to implement the other data structures directly without using a list as the basis of implementation. <a href="http://en.wikipedia.org/wiki/Linked_list">wikipedia</a></p>

<p>With C++ we can represent a cell in the linked list as a structure, like</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='c++'><span class='line'><span class="k">struct</span> <span class="n">Cell</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">string</span> <span class="n">value</span><span class="p">;</span>
</span><span class='line'>  <span class="n">Cell</span><span class="o">*</span> <span class="n">next</span><span class="p">;</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<p>in Ruby we can also use <a href="http://www.ruby-doc.org/core-1.9.3/Struct.html">Struct</a> and code our LinkedList will be like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># create a struct with :value and :next</span>
</span><span class='line'><span class="no">Cell</span> <span class="o">=</span> <span class="no">Struct</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:value</span><span class="p">,</span> <span class="ss">:next</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># create a head of our list</span>
</span><span class='line'><span class="n">list</span> <span class="o">=</span> <span class="no">Cell</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;head. hi&quot;</span><span class="p">,</span> <span class="kp">nil</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># method which create one more cell and return the struct</span>
</span><span class='line'><span class="k">def</span> <span class="nf">linked_list</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">cell</span><span class="p">)</span>
</span><span class='line'>  <span class="k">return</span> <span class="no">Cell</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">cell</span><span class="p">)</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># method which recursively print value until the asteroid...</span>
</span><span class='line'><span class="k">def</span> <span class="nf">recursive_print</span><span class="p">(</span><span class="n">list</span><span class="p">)</span>
</span><span class='line'>  <span class="nb">p</span> <span class="n">list</span><span class="o">.</span><span class="n">value</span>
</span><span class='line'>  <span class="n">recursive_print</span><span class="p">(</span><span class="n">list</span><span class="o">.</span><span class="n">next</span><span class="p">)</span> <span class="k">unless</span> <span class="n">list</span><span class="o">.</span><span class="n">next</span> <span class="o">==</span> <span class="kp">nil</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># create Linked List</span>
</span><span class='line'><span class="c1"># #&lt;struct Cell value=10, ... next=#&lt;struct Cell value=1, next=#&lt;struct Cell value=&quot;head. hi&quot;, next=nil&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
</span><span class='line'><span class="mi">10</span><span class="o">.</span><span class="n">times</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span class='line'>  <span class="n">list</span> <span class="o">=</span> <span class="n">linked_list</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">list</span><span class="p">)</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">recursive_print</span><span class="p">(</span><span class="n">list</span><span class="p">)</span> <span class="c1"># print out recursively our list</span>
</span></code></pre></td></tr></table></div></figure>


<p>Let&#8217;s test Linked List and Arrays to insert value in the top.</p>

<figure class='code'><figcaption><span>simple_bench.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># create a struct with :value and :next</span>
</span><span class='line'><span class="no">Cell</span> <span class="o">=</span> <span class="no">Struct</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:value</span><span class="p">,</span> <span class="ss">:next</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># create a head of our list</span>
</span><span class='line'><span class="n">list</span> <span class="o">=</span> <span class="no">Cell</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;head. hi&quot;</span><span class="p">,</span> <span class="kp">nil</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># array</span>
</span><span class='line'><span class="n">a</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># method which create one more cell and return the struct</span>
</span><span class='line'><span class="k">def</span> <span class="nf">linked_list</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">cell</span><span class="p">)</span>
</span><span class='line'>  <span class="k">return</span> <span class="no">Cell</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">cell</span><span class="p">)</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># simple benchmark timer. t1 - t2 = waiting time ;)</span>
</span><span class='line'><span class="k">def</span> <span class="nf">bench</span> <span class="n">type</span>
</span><span class='line'>  <span class="n">t1</span> <span class="o">=</span> <span class="no">Time</span><span class="o">.</span><span class="n">now</span>
</span><span class='line'>  <span class="k">yield</span>
</span><span class='line'>  <span class="n">t2</span> <span class="o">=</span> <span class="no">Time</span><span class="o">.</span><span class="n">now</span>
</span><span class='line'>  <span class="nb">p</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">type</span><span class="si">}</span><span class="s2">&#39;s took </span><span class="si">#{</span><span class="n">t2</span> <span class="o">-</span> <span class="n">t1</span><span class="si">}</span><span class="s2">s&quot;</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="n">bench</span> <span class="p">(</span><span class="s2">&quot;array&quot;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="mi">100000</span><span class="o">.</span><span class="n">times</span> <span class="p">{</span> <span class="n">a</span><span class="o">.</span><span class="n">insert</span> <span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">}</span> <span class="c1"># O(n)</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">bench</span> <span class="p">(</span><span class="s2">&quot;linked list&quot;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="mi">100000</span><span class="o">.</span><span class="n">times</span> <span class="p">{</span> <span class="n">list</span> <span class="o">=</span> <span class="n">linked_list</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">list</span><span class="p">)</span> <span class="p">}</span> <span class="c1"># O(1)</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># results</span>
</span><span class='line'><span class="c1">#</span>
</span><span class='line'><span class="c1"># &quot;array&#39;s took 2.661794s&quot;</span>
</span><span class='line'><span class="c1"># &quot;linked list&#39;s took 0.050272s&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>I&#8217;m not sure this is good example of benchmarking, will check it later. What doest it all mean? If you want insert value in the head of array, array gets a new array and move everything over every time when you insert something.</p>

<p><strong>[1, 2, 3, 4, 5, 6]</strong> -> inserting <strong>10071983</strong> value -> <strong>[10071983, 1, 2, 3, 4, 5, 6]</strong>, so now inserting an element into a top of array can be very costly - O(n) because everytime move everything over.</p>

<p>with linked list you just create cell with element and pointer on next cell. <strong>[1, pointer->nil]</strong> and if we want to add new element, we just set pointer like <strong>[10071983, pointer->next]</strong> where pointer->next is reference to <strong>[1, nil]</strong>. Of course Arrays are cool, because you can do many other things faster than linked list (trade offs), but don&#8217;t forget about Algorithmic Analysis where you can find what will be faster to use in your case.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-05-11T13:27:00-07:00" pubdate data-updated="true">May 11<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/cs/'>cs</a>, <a class='category' href='/blog/categories/data-sctructure/'>data sctructure</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>


</div>
	
</div></article>


    <article class="post">
	<h1 class="title"><a href="/blog/2012/05/07/playing-with-rails/">Playing With Rails</a></h1>
	<div class="entry-content">
		<p>Only with Rails I&#8217;ve realized meaning of the word REST and how RESTful Controller works. When you will understand CRUD and Scaffolding, you will easily create simple application, like one more blog or twitter clone ;)</p>

<p>CRUD = CREATE, SELECT, UPDATE, DELETE in database and create, show, update and destroy in Rails.</p>

<p>When we are using create HTTP sends POST request. For destroy - DELETE request. update - PUT and show simple GET. This is very useful, because you don&#8217;t need to create different paths for object you going to work with. For example,</p>

<ul>
<li>create - will send POST /users</li>
<li>update - will send PUT /users/1</li>
<li>destroy - will send DELETE /users/1</li>
<li>show - will send /users/1</li>
</ul>


<p>I haven&#8217;t seen this in Django, only with Rails realized this simplicity of REST.</p>

<p>I know, I know what already exists a tons of tutorials with Rails, but because it&#8217;s good to repeat some fundomental stuff I&#8217;m also going to create one more. I&#8217;m going to build simple application called <strong>Morning Pages</strong>. I read the book <em>Pragmatic Thinking and Learning</em> and author describes one technic with same name &#8220;Morning Pages&#8221; when you wake up and start writing just random things from your head.</p>

<p><img src="http://pix.am/CuqHl.png" alt="" /></p>

<p>Specs:
morning page has title, body, created and updated time.</p>

<p>We want to be able:</p>

<ul>
<li>add new morning page</li>
<li>edit morning page</li>
<li>delete morning page</li>
<li>show morning page</li>
</ul>


<p>Let&#8217;s start:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rails new morning_page
</span><span class='line'>
</span><span class='line'># here is trick with [plural and singular](http://stackoverflow.com/questions/646951/singular-or-plural-controller-and-helper-names-in-rails).
</span><span class='line'>rails generate controller MorningPages 
</span><span class='line'>rails generate model MorningPage title:string body:text
</span><span class='line'>
</span><span class='line'>rake db:migrate</span></code></pre></td></tr></table></div></figure>


<p>I&#8217;m not using scaffold here, because I think will be better to go throught step-by-step will be better to understand how it works. Scanffolding allows you create</p>

<ul>
<li>4 views (index, show, new and edit)</li>
<li>a layout file for all of those views</li>
<li>a stylesheet for all of those views</li>
<li>a model</li>
<li>a data migration to establish the tables needed for the model</li>
<li>a controller to send data</li>
<li>an empty file for helper methods</li>
<li>a new route that will map user requests to the controller</li>
</ul>


<p>a lot isnt&#8217;s? but we are not looking for easy way ;) of course when you will understand how each part works, you can use scaffold. In our case we already created controller MorningPage and model with same name. Now I&#8217;m going insert some test data in a database. Open db/seed.db and add few records:</p>

<figure class='code'><figcaption><span>seed.db</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">puts</span> <span class="s2">&quot;Create few records&quot;</span>
</span><span class='line'><span class="no">MorningPage</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">title</span><span class="p">:</span> <span class="s1">&#39;Day 1&#39;</span><span class="p">,</span> <span class="n">body</span><span class="p">:</span> <span class="s1">&#39;Good morning! Sunny day!&#39;</span><span class="p">)</span>
</span><span class='line'><span class="no">MorningPage</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">title</span><span class="p">:</span> <span class="s1">&#39;Day 2&#39;</span><span class="p">,</span> <span class="n">body</span><span class="p">:</span> <span class="s1">&#39;Hello! Such a wonderful day.&#39;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>seed.db</strong> is just a ruby script, so you can write here anything you want in ruby like cycles, parsing method or whatever. Then you should run <strong>rake db:seed</strong> to execute your&#8217;s seed.db. Ok, nice, now we have two records in our database and we can also check this with rails console</p>

<figure class='code'><figcaption><span>seed.db</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">khakimov</span> <span class="k">in</span> <span class="o">~</span><span class="sr">/Projects/</span><span class="n">current</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="n">rails</span><span class="o">/</span><span class="n">rails_app</span><span class="o">/</span><span class="n">morning</span> <span class="n">on</span> <span class="n">master</span>
</span><span class='line'><span class="err">±</span> <span class="n">rails</span> <span class="n">console</span>
</span><span class='line'><span class="no">Loading</span> <span class="n">development</span> <span class="n">environment</span> <span class="p">(</span><span class="no">Rails</span> <span class="mi">3</span><span class="o">.</span><span class="mi">2</span><span class="o">.</span><span class="mi">3</span><span class="p">)</span>
</span><span class='line'><span class="o">&gt;&gt;</span> <span class="no">MorningPage</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="o">[</span><span class="c1">#&lt;MorningPage id: 1, title: &quot;Day 1&quot;, body: &quot;Good morning! Sunny day!&quot;, created_at: &quot;2012-05-08 23:29:58&quot;, updated_at: &quot;2012-05-09 20:50:56&quot;&gt;, ...]</span>
</span></code></pre></td></tr></table></div></figure>


<p>so far, so good with model. move on to controller. We don&#8217;t have any action methods yet, like index, show, edit&#8230; Open app/controllers/morning_pages_controller.rb and add index, show, new, edit, create, update and destroy:</p>

<figure class='code'><figcaption><span>morining_page_controller.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">MorningPagesController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">index</span>
</span><span class='line'>      <span class="vi">@messages</span> <span class="o">=</span> <span class="no">MorningPage</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">show</span>
</span><span class='line'>      <span class="vi">@message</span> <span class="o">=</span> <span class="no">MorningPage</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">new</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">edit</span>
</span><span class='line'>      <span class="vi">@morning_page</span> <span class="o">=</span> <span class="no">MorningPage</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">create</span>
</span><span class='line'>      <span class="c1">#logger.debug(params)</span>
</span><span class='line'>      <span class="vi">@morning_page</span> <span class="o">=</span> <span class="no">MorningPage</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:morning_page</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">if</span> <span class="vi">@morning_page</span><span class="o">.</span><span class="n">save</span>
</span><span class='line'>          <span class="n">redirect_to</span> <span class="vi">@morning_page</span>
</span><span class='line'>      <span class="k">else</span>
</span><span class='line'>          <span class="n">render</span> <span class="ss">:action</span> <span class="o">=&gt;</span> <span class="s2">&quot;new&quot;</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">update</span>
</span><span class='line'>      <span class="vi">@morning_page</span> <span class="o">=</span> <span class="no">MorningPage</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">if</span> <span class="vi">@morning_page</span><span class="o">.</span><span class="n">update_attributes</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:morning_page</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>          <span class="n">redirect_to</span> <span class="vi">@morning_page</span>
</span><span class='line'>      <span class="k">else</span>
</span><span class='line'>          <span class="n">render</span> <span class="ss">:action</span> <span class="o">=&gt;</span> <span class="ss">:edit</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">destroy</span>
</span><span class='line'>      <span class="vi">@morning_page</span> <span class="o">=</span> <span class="no">MorningPage</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">if</span> <span class="vi">@morning_page</span><span class="o">.</span><span class="n">destroy</span>
</span><span class='line'>          <span class="n">redirect_to</span> <span class="n">morning_page_index_path</span>
</span><span class='line'>      <span class="k">else</span>
</span><span class='line'>          <span class="n">render</span> <span class="ss">:action</span> <span class="o">=&gt;</span> <span class="ss">:index</span><span class="p">,</span> <span class="ss">:notice</span> <span class="o">=&gt;</span> <span class="s2">&quot;fail&quot;</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>in our config/routes.rb file don&#8217;t forget to add which will allow route request to the methods</p>

<figure class='code'><figcaption><span>morining_page_controller.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>  <span class="n">root</span> <span class="ss">:to</span> <span class="o">=&gt;</span> <span class="s1">&#39;morning_pages#index&#39;</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">resources</span> <span class="ss">:morning_pages</span>
</span></code></pre></td></tr></table></div></figure>


<p>ok, now our application can route request, but we can&#8217;t check it without layouts. So, create views/morning_pages/ with files:</p>

<figure class='code'><figcaption><span>edit.html.erb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">&quot;content&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="err">&lt;</span>%= form_for(@morning_page, :url =&gt; {:action =&gt; :update}) do |f| %&gt;
</span><span class='line'>  <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;text_field&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>      <span class="err">&lt;</span>%= f.label :title %&gt;
</span><span class='line'>      <span class="err">&lt;</span>%= f.text_field :title, :placeholder =&gt; &#39;Title&#39;, :size =&gt; &#39;auto&#39; %&gt;
</span><span class='line'>  <span class="nt">&lt;/li&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;text_field&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>      <span class="err">&lt;</span>%= f.label :body %&gt;<span class="nt">&lt;br</span> <span class="nt">/&gt;</span>
</span><span class='line'>      <span class="err">&lt;</span>%= f.text_area :body, :placeholder =&gt; &#39;Body&#39; %&gt;<span class="nt">&lt;br</span> <span class="nt">/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/li&gt;</span>
</span><span class='line'>  <span class="err">&lt;</span>%= f.submit &quot;Modify Page&quot;, :class =&gt; &quot;buttonize submit_form&quot;, :id =&gt; &#39;form_submitter&#39; %&gt;
</span><span class='line'>
</span><span class='line'><span class="err">&lt;</span>% end %&gt;
</span><span class='line'><span class="nt">&lt;/ul&gt;</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>index.html.erb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">&quot;content home clearfix users&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="err">&lt;</span>% if !@messages.blank? %&gt;
</span><span class='line'>  <span class="err">&lt;</span>% for item in @messages %&gt;
</span><span class='line'>    <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;post clearfix &lt;%= cycle(&#39;jared&#39;,&#39;daslee&#39;)%&gt;&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>          <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;title&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>          <span class="err">&lt;</span>%= item.updated_at.to_formatted_s(:long) %&gt;
</span><span class='line'>          <span class="err">&lt;</span>%= link_to(item.title, morning_page_path(item), :class =&gt; &#39;clearfix&#39;) %&gt;
</span><span class='line'>          <span class="err">&lt;</span>%= link_to(&quot;edit&quot;, edit_morning_page_path(item)) %&gt; |
</span><span class='line'>          <span class="err">&lt;</span>%= link_to(&quot;delete&quot;, morning_page_path(item),
</span><span class='line'>              :confirm =&gt; &#39;Are you sure?&#39;, :method =&gt; :delete) %&gt;
</span><span class='line'>      <span class="nt">&lt;/p&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/li&gt;</span>
</span><span class='line'>  <span class="err">&lt;</span>% end %&gt;
</span><span class='line'><span class="err">&lt;</span>% else %&gt;
</span><span class='line'>
</span><span class='line'><span class="err">&lt;</span>% end %&gt;
</span><span class='line'>      <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;post clearfix&quot;</span><span class="nt">&gt;&lt;/li&gt;</span>
</span><span class='line'><span class="nt">&lt;/ul&gt;</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>new.html.erb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">&quot;content&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="err">&lt;</span>%= form_for(:morning_page, :url =&gt; {:action =&gt; :create}) do |f| %&gt;
</span><span class='line'>  <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;text_field&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>      <span class="err">&lt;</span>%= f.label :title %&gt;
</span><span class='line'>      <span class="err">&lt;</span>%= f.text_field :title, :placeholder =&gt; &#39;Title&#39;, :size =&gt; &#39;auto&#39; %&gt;
</span><span class='line'>  <span class="nt">&lt;/li&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;text_field&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>      <span class="err">&lt;</span>%= f.label :body %&gt;<span class="nt">&lt;br</span> <span class="nt">/&gt;</span>
</span><span class='line'>      <span class="err">&lt;</span>%= f.text_area :body, :placeholder =&gt; &#39;Body&#39; %&gt;<span class="nt">&lt;br</span> <span class="nt">/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/li&gt;</span>
</span><span class='line'>  <span class="err">&lt;</span>%= f.submit &quot;Save Page&quot;, :class =&gt; &quot;buttonize submit_form&quot;, :id =&gt; &#39;form_submitter&#39; %&gt;
</span><span class='line'>
</span><span class='line'><span class="err">&lt;</span>% end %&gt;
</span><span class='line'><span class="nt">&lt;/ul&gt;</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>show.html.erb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">&quot;content&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;text_field&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>      <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;morning_page_title&quot;</span><span class="nt">&gt;</span>Title<span class="nt">&lt;/label&gt;</span>
</span><span class='line'>          <span class="nt">&lt;p&gt;</span><span class="err">&lt;</span>%= @message.title%&gt;<span class="nt">&lt;br/&gt;&lt;/p&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/li&gt;</span>
</span><span class='line'>  <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;text_field&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>      <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;morning_page_title&quot;</span><span class="nt">&gt;</span>Body<span class="nt">&lt;/label&gt;</span>
</span><span class='line'>      <span class="nt">&lt;p&gt;</span><span class="err">&lt;</span>%= @message.body %&gt;<span class="nt">&lt;/p&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/li&gt;</span>
</span><span class='line'><span class="nt">&lt;/ul&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>It&#8217;s very hard to describe how to do something, how to build, that&#8217;s why probably will be better just to check source code or build by you own without copy/paste tutorials. I&#8217;m sure that many beginers and not only beginners stuck with ideas, they don&#8217;t want to build one more blog and this is idea not motivate to code and practice. When you really want to build something, that is the best period to practice and learn stuff, especially if you are doing this with somebody together. A lot of people looking for &#8220;weekend&#8221; project or to build something and hack with other, but the only place where they can find it is github. Github is good, but how to find in thousands project something simple and interesting for beginers? Will think about this, looks like an interesting idea.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-05-07T23:55:00-07:00" pubdate data-updated="true">May 7<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/bootstrap/'>bootstrap</a>, <a class='category' href='/blog/categories/rails/'>rails</a>, <a class='category' href='/blog/categories/tutorial/'>tutorial</a>


</div>
	
</div></article>

<nav id="pagenavi">
    
        <a href="/blog/page/7/" class="prev">Prev</a>
    
    
        <a href="/blog/page/9/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2013

    khakimov

</footer>
	<script src="/javascripts/slash.js"></script>
<script type="text/javascript">
var _hcp = _hcp || {};
_hcp.widget_id = 2313;
_hcp.widget = "Stream";
(function() { 
var hcc = document.createElement("script"); hcc.type = "text/javascript"; hcc.async = true;
hcc.src = ("https:" == document.location.protocol ? "https" : "http")+"://widget.hypercomments.com/apps/js/hc.js";
var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hcc, s.nextSibling); 
})();</script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->




	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-31552911-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>