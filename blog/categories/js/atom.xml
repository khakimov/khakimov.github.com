<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: js | curious and driven]]></title>
  <link href="http://khakimov.github.com/blog/categories/js/atom.xml" rel="self"/>
  <link href="http://khakimov.github.com/"/>
  <updated>2014-07-15T17:37:59-07:00</updated>
  <id>http://khakimov.github.com/</id>
  <author>
    <name><![CDATA[khakimov]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Automatically Rewrite HTTP to HTTPS with JS]]></title>
    <link href="http://khakimov.github.com/blog/2012/12/23/automatically-rewrite-http-to-https-with-js/"/>
    <updated>2012-12-23T11:15:00-08:00</updated>
    <id>http://khakimov.github.com/blog/2012/12/23/automatically-rewrite-http-to-https-with-js</id>
    <content type="html"><![CDATA[<p>I wrote the post <a href="http://khakimov.com/blog/2012/11/24/what-is-wrong-with-http-secure/">What Is Wrong With HTTP Secure</a> and my friend gave me an idea to try just rewrite hardcoded link (http:// -> https://). The beauty of JS are simplicity, documentations and tons of examples, so even if you don't know how to get element without using jQuery it will be easy to figure out in couple minutes as I did in the night.</p>

<p>``` js
if (document.location.protocol === 'https:') {</p>

<pre><code>// http to https for &lt;link&gt;
var links = document.getElementsByTagName('link');
for(i = 0; i &lt; links.length; i++)
{

  if(links[i].href.indexOf('http:') &gt; -1) {
    link = links[i].href.replace('http:', 'https:');
    links[i].href = link;
  }
}

// http to https for &lt;script&gt;
var scripts = document.getElementsByTagName('script');
for(i = 0; i &lt; scripts.length; i++)
{

  if(scripts[i].src.indexOf('http:') &gt; -1) {
    script = scripts[i].src.replace('http:', 'https:');
    scripts[i].src = script;
  }
}

// http to https for images
var images = document.getElementsByTagName('img');
for(i = 0; i &lt; images.length; i++)
{

  if(images[i].src.indexOf('http:') &gt; -1) {
    img = images[i].src.replace('http:', 'https:');
    images[i].src = img;
  }
}
</code></pre>

<p>}
```</p>

<p>Maybe folks from KBIT.dk will add it to their chrome extensions <a href="https://code.google.com/p/kbsslenforcer/">KB SSL Enforcer</a>. Anyway, my Internet looks much better now =) and safer!</p>
]]></content>
  </entry>
  
</feed>
